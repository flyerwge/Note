# 数据结构

## 1 红黑树

定义：红黑树是一种含有红黑节点并能自平衡的二叉查找树；

性质：

- 每个节点要么是红色，要么是黑色；
- 根节点是黑色
- 每个叶子节点都是黑色的
- 每个红色节点的子节点必然是黑色的
- 任意一个节点到每个叶子节点的路径都包含数量相同的黑节点

## 2 平衡二叉树与红黑树的区别

1. 平衡二叉树追求绝对平衡，条件比较苛刻，实现起来比较复杂，每次插入新节点后需要旋转的次数无法预知；
2. 红黑树放弃了追求完全平衡，追求大致平衡，在与平衡二叉树的时间复杂度相差不大的情况下，保证每次插入最多只需要三次旋转就能达到平衡，实现起来也更为简单；

## 3 散列表

### 3.1 基本概念

散列表也称为哈希表，是根据键值直接访问在指定储存位置数据的数据结构。通过计算键的哈希值，将所需查询的数据映射到表中的一个位置来访问记录，这个映射函数称为哈希函数，存放记录的数组称作哈希表

### 3.2 散列函数构造方法

注意问题：1）散列函数定义域必须包括全部需要存储的关键字，值域范围则依赖于散列表的大小或地址范围；2）散列函数计算出来的结果应该能够等概率、均匀的分布在整个地址空间，从而减少冲突的发生；3）散列函数应该尽量简单，能够在较短时间内计算出任意关键字对应的散列地址；

常用的散列函数：1）直接定址法；2）除留取余法；3）数字分析法；4）平方取中法；5）折叠法；

### 3.3 处理冲突/解决hash冲突

1. 开放定址法：1）线性探查；2）平方探测；3）伪随机探测；

   缺点：1）当冲突多的时候数据容易堆积在一起，不利于查找；2）删除节点的时候不能简单将节点空置，否则将截断在它填入散列表之后的同义词节点查找路径，如果要删除节点，只能在被删除节点上添加删除标记；3）如果哈希表的空间已经满了，还需要建立一个溢出表，来存放多出来的元素；

2. 链地址法：将冲突位置的元素构造成链表，在添加数据的时候，如果哈希地址与哈希表上的元素冲突，就放在这个位置的链表上（HashMap的底层结构采用的是数组+链表+红黑树，也就是开放地址法+链地址法实现HashMap）

   优点：1）处理冲突的方式简单，且无堆积现象；2）由于各链表的的节点空间是动态申请的，所以更适合无法确定表长的情况；3）删除节点操作易于实现，只要删除链表上的对应节点即可；

3. 再哈希法：同义词发生地址冲突时，再计算出另一个哈希地址；

4. 公共溢出区：另设一个溢出表作为公共溢出区，一旦发生冲突，将冲突内容填入溢出表；

## 4 跳跃表

跳表：用于有序元素序列快速搜索查找的一个数据结构，是一种可以进行二分查找的有序链表；在原有的有序链表上增加多级索引，通过索引来实现快速查找；跳表的搜索、插入、删除操作的时间复杂度均为`O(logn)`;